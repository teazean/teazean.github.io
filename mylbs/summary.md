---
layout: post
title: 项目总结
---

##LBS项目总结

###1. 破风骑行

####问题   
3秒加载完成的只有79%，推送日页面未打开高达11%

####分析   
1. 用chrome抓图，regular 2g网络下，第一个jszepto_default.min.js(9.7kb),从950ms开始下载，到2850ms才下载完成。基本上其他js都下载完成包括最后的index.js都下载完成，都在等待。
2. 页面在2g下要等待3s左右 domready，5-6load结束

####总结   
1. 优先显示界面，image可以先占据空间，后加载。尽量减少图片的大小。
2. 尝试使用require.js技术，延迟加载js。对页面的js逻辑进行分层次，分为:    
    + header区域js
    + domcontentloaded js
    + window.load js
   
###2. 实时公交活动页      

####事故      
这个项目差点出了严重事故，项目20号上线，18号下午，意外删除了本地所有文件，导致代码也被删除。关键是从项目开始到18号下午，我一直没有提交过一次代码。当时心中各种思密达！找剑哥、IT服务中心，还是无法解决。当我静下心做好准备通宵再写一边的时候，我在本地的fis中找回了代码！太侥幸了，但这种事故是不应该发生的。    
本次事故的情景是：正在紧急地码代码中，当打开Finder，默认显示所有文件，看到这么多乱的文件，手一抖，command+A & command+delete。所有文件删除了。
> 总结1：项目代码应每天提交。    
> 总结2：应静下心码代码，不应该这么匆忙

####项目总结

1. 这次写了一个tab.js小组件，以后可能也会用到，要求html的结构如下 

        <div id="tab" class="tab">
            <ul class="tab-nav">
                <li></li>
            </ul>
            <div class="tab-cwrapper">
                <div class="tab-c">
            </div>
        </div>

    >里面使用了Zeptojs，希望有所改进使用独立的JS来实现

2. 分享页面是一些页面的组合，一开始的ue设计是有一个长页，组内之前的项目一些实现并不支持每页高度不一致，因此也谢了一个pages.js支持每页设置不同的高度，对外开发的接口是seletor、setSize(w,h);  
    >目前还是有一些问题，长页的滚动目前是固定值，没有安装手势移动的间距滚动，目前做的验证码已实现此效果，希望能尽快添加进去。
3. 修改了utils.js中的Popup的show方法，添加支持传入参数，可以让在ZtApp.Pop.info(data),支持弹框传入参数。
4. 该项目使用rem来计算长度，我默认设置的width=320px情况下html font-size:10px，但这是有问题的，在部分手机浏览器如chrome、以及chrome模拟手机的时候，他们默认最小字体是12px。看来还有有必要设置为20px。

