<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
    <meta name="author" content="{{ site.author.name }}">
    {% if page.description %}
    <meta name="description" content="{{ page.description }}">
    {% else page.title %}
    <meta name="description" content="{{ page.title }}">
    {% endif %}
    
    {% capture keywords %}{% if page.tags %}{% for s in page.tags %}{{s}}, {% endfor %}{% endif %}{% if page.keywords %}{% for s in page.keywords %}{{s}},{% endfor %}{% endif %}{% endcapture %}
    <meta name="keywords" content="{{ keywords }}">
    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="shortcut icon" type="image/png" href="/eye_icon.png?">
    <!-- Le styles -->
    <link href="{{ ASSET_PATH }}/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="{{ ASSET_PATH }}/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="{{ ASSET_PATH }}/css/prettify.css" rel="stylesheet" type="text/css">
    <script src="{{ ASSET_PATH }}/js/prettify.js"></script>
    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="{{ BASE_PATH }}{{ site.JB.atom_path }}" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="{{ BASE_PATH }}{{ site.JB.rss_path }}" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
    
    <!--    font-awesome-->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    {% for s in page.styles %}
    <link rel="stylesheet" href="/css/{{s}}.css">
    {% endfor %}
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  </head>

  <body {% if page.bodyClass != null %}
          class="{{page.bodyClass}}"
        {% endif %} >
    <div class="navbar">
      <div class="navbar-inner">
       <div class="nav-narrow">
          <a class="brand" href="{{ HOME_PATH }}"><span class="fa fa-mortar-board (alias)">{{ site.title }}</span></a>
          <ul class="nav">
            {% assign pages_list = site.pages %}
            {% assign group = 'navigation' %}
            {% include JB/pages_list %}
          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        {{ content }}
      </div>
      
      <footer class="card clearfix">
        <span style="font-size:30px;"class="fa fa-github pull-left"></span><a href="https://github.com/teazean" style="display:inline-block;padding-right:80px;border-right:1px solid #bbb">fork me on GitHub</a>
        <p class="pull-right">&copy; 2013 <a href="/soup.html" style="color:black;">{{ site.author.name }}</a>
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
        
      </footer>

    </div>

    {% include JB/analytics %}
    <script>
      $(function() {
        $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto');
        window.prettyPrint && prettyPrint();
      });

      (function(){
        var oldP ;
        window.onscroll = function(e){
          var st = document.documentElement.scrollTop == 0 ? document.body.scrollTop : document.documentElement.scrollTop;
          if(oldP){
            var diff = (oldP - st)/100,
              opacity = $(".navbar-inner").css("opacity");
            if(opacity){
              opacity = parseFloat(opacity) + diff;
            }else{
              opacity = 1.0;
            }
            $(".navbar-inner").css("opacity",opacity);
          }
          oldP = st;
        }
      })();

      $(function(){
        $(".content.card a").each(function(i,e){
          e.target = "_blank"; 
        });
      });

      $(window).on("load",function(e){
        var hash = location.hash;
        if(!hash)
          return;
        var key = hash.substr(1);

        Array.prototype.some.call($("h3,h4,.content>p>strong"),function(e, i){
          var text = $(e).text();
          if(text.indexOf(key) > -1){
            window.scrollTo(0, e.offsetTop - 60);
            return true;
          }
        });
      });
    </script>
  {% for s in page.scripts %}
      <script src="/js/{{s}}.js"></script>
  {% endfor %}
  </body>
</html>
