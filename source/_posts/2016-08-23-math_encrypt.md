---
layout: post
title: 密码学与数学
category: encrypt
---

## 目录：密码学与数学
1. 古典密码
2. 对称加密
3. 非对称加密

<!-- more -->

### 1. 古典密码
1. 逐字替换：如凯撒加密
2. 破解方式：每个文字出现的概率其实是特定的，可以统计密文中字符出现的概率与真实字符概率对比。

### 2. 对称加密

#### 对称加密基础

对称加密是指加密和解密都使用同一套密钥；

数学基础是使用异或运算，`X⊕Y=Z`、`Z⊕Y=X`、`Z⊕X=Y`，在异或运算中，任意X、Y、Z中的两个都能推出另一个

#### 流密码
用对称密钥将原始数据按位加密、按位传输
![流密码](https://pic1.zhimg.com/6c82dafb6a74dd25da43a500621df5fc_r.png)

#### 块加密
将原始数据分成n块，简单来说就是前一段的密文是后一段明文的密钥

![块密码](https://pic3.zhimg.com/30e3585fe165ba74bac56808f87f5cb6_r.png)

#### DES加密
DES的加密是块加密，基础是Feistel加密算法，思路就是讲明文切割成64位长的块，先把每块64位内容重新置换，然后每一块进行16轮的加密。

DES的提出是1977年，在当时是破解起来特别困难，但在21世纪，破解就不再困难，于是乎AES提出来

#### AES加密
AES也是块加密，将明文分割成128位长的块，然后进行n轮加密，每一轮每块都经过轮函数加密、字节替换、移行与混列等处理。

AES有56、128、256等位长的块，位长越长，破解起来越困难。据说AES256破解起来要上几百万年。。。

### 2. 非对称加密

#### 非对称加密基础

非对称加密是指分为公钥、私钥，公钥用于公布给大众，而私钥自己保存。

公钥加密的密文只能被私钥解密；私钥加密的密文只能被公钥解密。

数据基础利用：大整数的质因数分解、大整数的离散对数、椭圆曲线。。等等数学难题，使得破解十分困难

##### 大整数的质因子分解
所有的合数都可被分解成几个质数的乘积，但这是没规律的。尤其对于超大的整数而言，需要超大的计算量估计才能确定。


##### 大整数的离散对数
设g为素数p的模循环群的原根，对任意的a，计算：
b=g<sup>a</sup> mod p
是容易的（通过幂取模算法）。反过来，给定b计算满足等式的a是非常困难的，a称为以g为基b的离散对数。

##### 椭圆曲线
<http://8btc.com/thread-1240-1-1.html>

通过选取一个质数作最大值、一个椭圆方程、一个曲线上的公共点，一个椭圆曲线密码系统能被定义。一个私钥是数字priv，一个公钥是用它自己打点priv次的公共点(打点是指做一种变化)。在这种密码学系统里，通过公钥计算私钥叫做椭圆曲线离散对数函数。
他的难点在于，已知椭圆方程、打点最终点，是无法确认n和初始点的。

应用：Tor的加密等。

>。通过这次测量，破解一个228字节的RSA秘钥需要的能量少于煮沸一茶勺水的能量。相比地，破解一个228字节的椭圆曲线秘钥需要足够煮沸地球上所以水的能量。为此，RSA要达到一个安全的水平，你需要一个2,380字节的秘钥。对于同样的加密水平，ECDSA（一种椭圆曲线的加密算法）要比RSA高23倍；

#### RSA
详情<https://zhuanlan.zhihu.com/p/21401118?refer=c_34890415>

#### 非对称加密的应用
1. 数字签名：发送者先用自己的密钥加密自己的消息M->M1，然后再用接收者的公钥加密M1->M2，然后传输M2给接收者，这样接收者先用自己的密钥解密M2->M1，然后用发送者的公钥解密M1，若是成功解密到M，则说明发送者是本人。
2. 数字签名2：如果对整个大消息全部用自己的密钥加密，比较耗时，所以采用的折中方案，将大消息先计算成定长的Hash1，用自己的私钥加密Hash，附加到消息里传说。在接收方那边用接收方的私钥解密消息，用发送方的公钥解密Hash部分Hash1，然后计算整个消息的Hash值Hash2，如果Hash2等于Hash1，则说明是发送者是本人。
3. 证书体系：证书体系解决的问题是如何判别自己要交互的人确实是本人，这里就引入了第三方做公证。（第三方要权威，并且操作系统、浏览器已经内置对第三方的支持了）

> 证书发布：第三方认证机构CA用自己的私钥加密A的公钥，获取证书S，A公布S作为其的证书

> 证书认证：B去与A交互时，先用第三方机构CA的公钥解密A的证书，如果成功则证明是是A本人


#### 量子学的发展
<http://blog.sciencenet.cn/blog-3224443-996994.html>

简单说量子学：AB处于一种状态，A、B都有两种可能，各有2分之一，但当A被观察测量后，B也就只有一种状态。

1. Shor算法提出有可能在量子计算机上破解大整数的质因子分解、大整数的离散对数（Shor算法也有可能是错误的）
2. Chrome提出NewHope算法以对抗量子计算机

#### 量子学密码与现代密码
1. 现在密码默认有攻击的的存在，所有的数据都能被截取的情况下，加密传输的信息
2. 量子通讯从物理上剥夺了敌手窃取信号的能力，敌手的窃听行为直接破坏了量子信号，使得量子信号变得不确定，从物理信号的传播上保证了信息安全。
